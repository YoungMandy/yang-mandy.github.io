import{_ as E}from"./PageHeader.vue_vue_type_style_index_0_lang-e8e0ec6f.js";import{d as N,r as i,bp as V,b as K,c as _,e as v,w,g as x,h as b,t as u,f as B}from"./index-f8c4927d.js";const T={key:0},$={style:{color:"#f50"}},L={key:1},P=3,S=2,z=1,A=N({__name:"TreeChoose",setup(U){const d=[],y=(t,a,n)=>{const s=a||"0",e=n||d,c=[];for(let r=0;r<P;r++){const l=`${s}-${r}`;e.push({title:l,key:l}),r<S&&c.push(l)}if(t<0)return e;const D=t-1;c.forEach((r,l)=>(e[l].children=[],y(D,r,e[l].children)))};y(z);const m=[],g=t=>{for(let a=0;a<t.length;a++){const n=t[a],s=n.key;m.push({key:s,title:s}),n.children&&g(n.children)}};g(d);const p=(t,a)=>{let n;for(let s=0;s<a.length;s++){const e=a[s];e.children&&(e.children.some(c=>c.key===t)?n=e.key:p(t,e.children)&&(n=p(t,e.children)))}return n},f=i([]),o=i(""),h=i(!0),k=i(d),O=t=>{f.value=t,h.value=!1};V(o,t=>{const a=m.map(n=>n.title.indexOf(t)>-1?p(n.key,k.value):null).filter((n,s,e)=>n&&e.indexOf(n)===s);f.value=a,o.value=t,h.value=!0});function C(t){return(t.title||t.slot.title).includes(o.value)}return(t,a)=>{const n=K("a-input-search"),s=K("a-tree");return x(),_("section",null,[v(E,{title:"树的选择",description:"树形选择研究"}),v(n,{value:o.value,"onUpdate:value":a[0]||(a[0]=e=>o.value=e),style:{"margin-bottom":"8px"},placeholder:"Search"},null,8,["value"]),v(s,{expandedKeys:f.value,"auto-expand-parent":h.value,"tree-data":k.value,filterTreeNode:C,onExpand:O},{title:w(({title:e})=>[e.indexOf(o.value)>-1?(x(),_("span",T,[b(u(e.substr(0,e.indexOf(o.value)))+" ",1),B("span",$,u(o.value),1),b(" "+u(e.substr(e.indexOf(o.value)+o.value.length)),1)])):(x(),_("span",L,u(e),1))]),_:1},8,["expandedKeys","auto-expand-parent","tree-data"])])}}});export{A as default};
